import type { OrderWithPatient } from "./orders-types"

/**
 * Mock orders data for the orders list view.
 * Includes parent-child order structures demonstrating various scenarios.
 */
export const orders: OrderWithPatient[] = [
  // HF-10026: Awaiting Review - Full checkout with Rx pending
  {
    id: "ord_026",
    publicOrderId: "HF-10026",
    type: "MAIN",
    status: "AWAITING_REVIEW",
    createdAt: "2024-12-04T14:30:00Z",
    userId: "usr_pat002",
    approvalDoctorId: null,
    subtotal: 34700,
    discount: 0,
    discountByCode: 0,
    shippingPrice: 0,
    tax: 2463,
    amount: 37163,
    patient: {
      id: "usr_pat002",
      firstName: "Michael",
      lastName: "Thompson",
      email: "michael.thompson@email.com",
    },
    provider: null,
    children: [
      {
        id: "ord_026_child_001",
        parentOrderId: "ord_026",
        type: "SUBORDER",
        productType: "SERVICE",
        status: "PROCESSED",
        productName: "Initial Consultation",
        sku: "CONSULT-INIT",
        amount: 0,
        billingCycle: "ONE_TIME_PAYMENT",
        paidAt: "2024-12-04T14:30:00Z",
      },
      {
        id: "ord_026_child_002",
        parentOrderId: "ord_026",
        type: "SUBORDER",
        productType: "MEMBERSHIP",
        status: "ACTIVE",
        productName: "Care Membership",
        sku: "MEM-CARE-MONTHLY",
        amount: 1900,
        billingCycle: "MONTHLY",
        subscriptionId: "sub_mem_001",
        nextBillDate: "2025-01-04",
        paidAt: "2024-12-04T14:30:00Z",
      },
      {
        id: "ord_026_child_003",
        parentOrderId: "ord_026",
        type: "SUBORDER",
        productType: "LAB_TEST",
        status: "ORDER_SHIPPED",
        productName: "Metabolic Health Panel",
        sku: "LAB-METAB",
        amount: 0,
        billingCycle: "ONE_TIME_PAYMENT",
        tracking: "9400111899223456789012",
        carrier: "USPS",
        paidAt: "2024-12-04T14:30:00Z",
      },
      {
        id: "ord_026_child_004",
        parentOrderId: "ord_026",
        type: "SUBORDER",
        productType: "PHYSICAL_PRODUCT",
        status: "AWAITING_REVIEW",
        productName: "Semaglutide",
        sku: "SEM-0.5-30",
        dosages: { strength: "0.5mg" },
        supply: "DAY_30",
        amount: 34900,
        billingCycle: "EVERY_DAY_30",
        subscriptionId: null,
      },
    ],
  },

  // HF-10032: Payment Failed - Mixed state
  {
    id: "ord_032",
    publicOrderId: "HF-10032",
    type: "MAIN",
    status: "PAYMENT_FAILED",
    createdAt: "2024-07-05T08:00:00Z",
    userId: "usr_pat022",
    approvalDoctorId: "usr_doc003",
    subtotal: 31800,
    discount: 0,
    discountByCode: 0,
    shippingPrice: 0,
    tax: 2623,
    amount: 34423,
    paymentFailedAt: "2024-12-05T08:00:00Z",
    paymentRetryCount: 2,
    patient: {
      id: "usr_pat022",
      firstName: "Lauren",
      lastName: "Nelson",
      email: "lauren.nelson@email.com",
    },
    provider: {
      id: "usr_doc003",
      firstName: "Priya",
      lastName: "Patel",
    },
    children: [
      {
        id: "ord_032_child_001",
        parentOrderId: "ord_032",
        type: "SUBORDER",
        productType: "MEMBERSHIP",
        status: "PAYMENT_FAILED",
        productName: "Care Membership",
        sku: "MEM-CARE-MONTHLY",
        amount: 1900,
        billingCycle: "MONTHLY",
        subscriptionId: "sub_mem_006",
        lastPaymentAttempt: "2024-12-05T08:00:00Z",
        paymentRetryCount: 2,
      },
      {
        id: "ord_032_child_002",
        parentOrderId: "ord_032",
        type: "SUBORDER",
        productType: "PHYSICAL_PRODUCT",
        status: "ACTIVE",
        productName: "Semaglutide",
        sku: "SEM-0.5-30",
        dosages: { strength: "0.5mg" },
        supply: "DAY_30",
        amount: 29900,
        billingCycle: "EVERY_DAY_30",
        subscriptionId: "sub_rx_004",
        nextBillDate: "2024-12-12",
      },
    ],
  },

  // HF-10027: Active with member discount
  {
    id: "ord_027",
    publicOrderId: "HF-10027",
    type: "MAIN",
    status: "ACTIVE",
    createdAt: "2024-10-15T11:00:00Z",
    userId: "usr_pat004",
    approvalDoctorId: "usr_doc003",
    subtotal: 32800,
    discount: 3290,
    discountByCode: 0,
    shippingPrice: 0,
    tax: 2436,
    amount: 31946,
    patient: {
      id: "usr_pat004",
      firstName: "Emily",
      lastName: "Davis",
      email: "emily.davis@email.com",
    },
    provider: {
      id: "usr_doc003",
      firstName: "Priya",
      lastName: "Patel",
    },
    children: [
      {
        id: "ord_027_child_001",
        parentOrderId: "ord_027",
        type: "SUBORDER",
        productType: "SERVICE",
        status: "PROCESSED",
        productName: "Initial Consultation",
        sku: "CONSULT-INIT",
        amount: 0,
        billingCycle: "ONE_TIME_PAYMENT",
        paidAt: "2024-10-15T11:00:00Z",
      },
      {
        id: "ord_027_child_002",
        parentOrderId: "ord_027",
        type: "SUBORDER",
        productType: "MEMBERSHIP",
        status: "ACTIVE",
        productName: "Care Membership",
        sku: "MEM-CARE-MONTHLY",
        amount: 1900,
        billingCycle: "MONTHLY",
        subscriptionId: "sub_mem_002",
        nextBillDate: "2024-12-15",
        paidAt: "2024-10-15T11:00:00Z",
      },
      {
        id: "ord_027_child_003",
        parentOrderId: "ord_027",
        type: "SUBORDER",
        productType: "PHYSICAL_PRODUCT",
        status: "ACTIVE",
        productName: "Semaglutide",
        sku: "SEM-0.25-30",
        dosages: { strength: "0.25mg" },
        supply: "DAY_30",
        amount: 29900,
        discount: 2990,
        billingCycle: "EVERY_DAY_30",
        subscriptionId: "sub_rx_001",
        nextBillDate: "2024-12-08",
        approvedAt: "2024-10-15T14:22:00Z",
        paidAt: "2024-10-15T14:22:00Z",
      },
    ],
  },

  // HF-10028: Premium member with 20% discount
  {
    id: "ord_028",
    publicOrderId: "HF-10028",
    type: "MAIN",
    status: "ACTIVE",
    createdAt: "2024-09-01T09:30:00Z",
    userId: "usr_pat010",
    approvalDoctorId: "usr_doc001",
    subtotal: 54700,
    discount: 9980,
    discountByCode: 0,
    shippingPrice: 0,
    tax: 3689,
    amount: 48409,
    patient: {
      id: "usr_pat010",
      firstName: "Jessica",
      lastName: "Taylor",
      email: "jessica.taylor@email.com",
    },
    provider: {
      id: "usr_doc001",
      firstName: "Michelle",
      lastName: "Chen",
    },
    children: [
      {
        id: "ord_028_child_001",
        parentOrderId: "ord_028",
        type: "SUBORDER",
        productType: "SERVICE",
        status: "PROCESSED",
        productName: "Initial Consultation",
        sku: "CONSULT-INIT",
        amount: 0,
        billingCycle: "ONE_TIME_PAYMENT",
        paidAt: "2024-09-01T09:30:00Z",
      },
      {
        id: "ord_028_child_002",
        parentOrderId: "ord_028",
        type: "SUBORDER",
        productType: "MEMBERSHIP",
        status: "ACTIVE",
        productName: "Premium Membership",
        sku: "MEM-PREM-MONTHLY",
        amount: 4900,
        billingCycle: "MONTHLY",
        subscriptionId: "sub_mem_003",
        nextBillDate: "2024-12-01",
        paidAt: "2024-09-01T09:30:00Z",
      },
      {
        id: "ord_028_child_003",
        parentOrderId: "ord_028",
        type: "SUBORDER",
        productType: "PHYSICAL_PRODUCT",
        status: "ACTIVE",
        productName: "Semaglutide",
        sku: "SEM-1.0-30",
        dosages: { strength: "1.0mg" },
        supply: "DAY_30",
        amount: 39900,
        discount: 7980,
        billingCycle: "EVERY_DAY_30",
        subscriptionId: "sub_rx_002",
        nextBillDate: "2024-12-08",
        approvedAt: "2024-09-01T11:45:00Z",
        paidAt: "2024-09-01T11:45:00Z",
      },
      {
        id: "ord_028_child_004",
        parentOrderId: "ord_028",
        type: "SUBORDER",
        productType: "LAB_TEST",
        status: "COMPLETED",
        productName: "Metabolic Health Panel",
        sku: "LAB-METAB",
        amount: 0,
        billingCycle: "ONE_TIME_PAYMENT",
        labResultsReceivedAt: "2024-09-08T10:00:00Z",
      },
    ],
  },

  // HF-10030: Paused - Winback candidate
  {
    id: "ord_030",
    publicOrderId: "HF-10030",
    type: "MAIN",
    status: "PAUSED",
    createdAt: "2024-06-10T10:00:00Z",
    userId: "usr_pat018",
    approvalDoctorId: "usr_doc002",
    subtotal: 6400,
    discount: 0,
    discountByCode: 0,
    shippingPrice: 0,
    tax: 528,
    amount: 6928,
    pausedAt: "2024-11-01T09:00:00Z",
    pauseReason: "Financial reasons - will resume in new year",
    patient: {
      id: "usr_pat018",
      firstName: "Stephanie",
      lastName: "Scott",
      email: "stephanie.scott@email.com",
    },
    provider: {
      id: "usr_doc002",
      firstName: "Carlos",
      lastName: "Martinez",
    },
    children: [
      {
        id: "ord_030_child_001",
        parentOrderId: "ord_030",
        type: "SUBORDER",
        productType: "MEMBERSHIP",
        status: "PAUSED",
        productName: "Care Membership",
        sku: "MEM-CARE-MONTHLY",
        amount: 1900,
        billingCycle: "MONTHLY",
        subscriptionId: "sub_mem_004",
        pausedAt: "2024-11-01T09:00:00Z",
      },
      {
        id: "ord_030_child_002",
        parentOrderId: "ord_030",
        type: "SUBORDER",
        productType: "PHYSICAL_PRODUCT",
        status: "PAUSED",
        productName: "Finasteride",
        sku: "FIN-1MG-90",
        dosages: { strength: "1mg" },
        supply: "DAY_90",
        amount: 4500,
        billingCycle: "EVERY_DAY_90",
        subscriptionId: "sub_rx_003",
        pausedAt: "2024-11-01T09:00:00Z",
      },
    ],
  },

  // HF-10029: Consultation only - Abandoned
  {
    id: "ord_029",
    publicOrderId: "HF-10029",
    type: "MAIN",
    status: "COMPLETED",
    createdAt: "2024-11-20T16:45:00Z",
    userId: "usr_pat015",
    approvalDoctorId: null,
    subtotal: 2900,
    discount: 0,
    discountByCode: 0,
    shippingPrice: 0,
    tax: 239,
    amount: 3139,
    patient: {
      id: "usr_pat015",
      firstName: "Kevin",
      lastName: "Walker",
      email: "kevin.walker@email.com",
    },
    provider: null,
    children: [
      {
        id: "ord_029_child_001",
        parentOrderId: "ord_029",
        type: "SUBORDER",
        productType: "SERVICE",
        status: "PROCESSED",
        productName: "Initial Consultation",
        sku: "CONSULT-INIT",
        amount: 2900,
        billingCycle: "ONE_TIME_PAYMENT",
        paidAt: "2024-11-20T16:45:00Z",
        _note: "Patient paid for consultation but did not proceed with treatment",
      },
    ],
  },

  // HF-10031: Annual membership + one-time Rx
  {
    id: "ord_031",
    publicOrderId: "HF-10031",
    type: "MAIN",
    status: "COMPLETED",
    createdAt: "2024-08-20T13:15:00Z",
    userId: "usr_pat007",
    approvalDoctorId: "usr_doc004",
    subtotal: 19400,
    discount: 0,
    discountByCode: 0,
    shippingPrice: 0,
    tax: 1600,
    amount: 21000,
    patient: {
      id: "usr_pat007",
      firstName: "David",
      lastName: "Martinez",
      email: "david.martinez@email.com",
    },
    provider: {
      id: "usr_doc004",
      firstName: "David",
      lastName: "Williams",
    },
    children: [
      {
        id: "ord_031_child_001",
        parentOrderId: "ord_031",
        type: "SUBORDER",
        productType: "SERVICE",
        status: "PROCESSED",
        productName: "Initial Consultation",
        sku: "CONSULT-INIT",
        amount: 0,
        billingCycle: "ONE_TIME_PAYMENT",
        paidAt: "2024-08-20T13:15:00Z",
      },
      {
        id: "ord_031_child_002",
        parentOrderId: "ord_031",
        type: "SUBORDER",
        productType: "MEMBERSHIP",
        status: "ACTIVE",
        productName: "Care Membership",
        sku: "MEM-CARE-ANNUAL",
        amount: 14900,
        billingCycle: "ANNUAL",
        subscriptionId: "sub_mem_005",
        nextBillDate: "2025-08-20",
        paidAt: "2024-08-20T13:15:00Z",
      },
      {
        id: "ord_031_child_003",
        parentOrderId: "ord_031",
        type: "SUBORDER",
        productType: "PHYSICAL_PRODUCT",
        status: "COMPLETED",
        productName: "Sildenafil",
        sku: "SIL-100-10",
        dosages: { strength: "100mg" },
        amount: 4500,
        billingCycle: "ONE_TIME_PAYMENT",
        approvedAt: "2024-08-20T15:30:00Z",
        paidAt: "2024-08-20T15:30:00Z",
        shippedAt: "2024-08-21T09:00:00Z",
      },
    ],
  },

  // HF-10033: Denied - Prescription denied due to contraindication
  {
    id: "ord_033",
    publicOrderId: "HF-10033",
    type: "MAIN",
    status: "DENIED",
    createdAt: "2024-12-02T11:30:00Z",
    userId: "usr_pat025",
    approvalDoctorId: "usr_doc001",
    subtotal: 34900,
    discount: 0,
    discountByCode: 0,
    shippingPrice: 0,
    tax: 2879,
    amount: 37779,
    patient: {
      id: "usr_pat025",
      firstName: "Christopher",
      lastName: "Adams",
      email: "chris.adams@email.com",
    },
    provider: {
      id: "usr_doc001",
      firstName: "Michelle",
      lastName: "Chen",
    },
    children: [
      {
        id: "ord_033_child_001",
        parentOrderId: "ord_033",
        type: "SUBORDER",
        productType: "SERVICE",
        status: "PROCESSED",
        productName: "Initial Consultation",
        sku: "CONSULT-INIT",
        amount: 0,
        billingCycle: "ONE_TIME_PAYMENT",
        paidAt: "2024-12-02T11:30:00Z",
      },
      {
        id: "ord_033_child_002",
        parentOrderId: "ord_033",
        type: "SUBORDER",
        productType: "PHYSICAL_PRODUCT",
        status: "DENIED",
        productName: "Semaglutide",
        sku: "SEM-0.5-30",
        dosages: { strength: "0.5mg" },
        supply: "DAY_30",
        amount: 34900,
        billingCycle: "EVERY_DAY_30",
        subscriptionId: null,
        _note: "Denied due to BMI below treatment threshold",
      },
    ],
  },

  // Simple single-item orders (legacy format for variety)
  {
    id: "ord_001",
    publicOrderId: "HF-10001",
    type: "MAIN",
    status: "COMPLETED",
    createdAt: "2024-06-15T10:45:00Z",
    userId: "usr_pat001",
    approvalDoctorId: "usr_doc001",
    subtotal: 4500,
    discount: 0,
    discountByCode: 0,
    shippingPrice: 0,
    tax: 371,
    amount: 4871,
    billingCycle: "EVERY_DAY_90",
    patient: {
      id: "usr_pat001",
      firstName: "Sarah",
      lastName: "Johnson",
      email: "sarah.johnson@email.com",
    },
    provider: {
      id: "usr_doc001",
      firstName: "Michelle",
      lastName: "Chen",
    },
    lineItems: [
      {
        productName: "Finasteride",
        sku: "FIN-1MG-90",
        dosages: { strength: "1mg" },
        supply: "DAY_90",
        price: 4500,
        qty: 90,
        diseaseState: "HAIR_GROWTH",
      },
    ],
  },

  {
    id: "ord_005",
    publicOrderId: "HF-10005",
    type: "MAIN",
    status: "ACTIVE",
    createdAt: "2024-11-28T14:20:00Z",
    userId: "usr_pat005",
    approvalDoctorId: "usr_doc002",
    subtotal: 29900,
    discount: 0,
    discountByCode: 0,
    shippingPrice: 0,
    tax: 2467,
    amount: 32367,
    billingCycle: "EVERY_DAY_30",
    patient: {
      id: "usr_pat005",
      firstName: "Robert",
      lastName: "Brown",
      email: "robert.brown@email.com",
    },
    provider: {
      id: "usr_doc002",
      firstName: "Carlos",
      lastName: "Martinez",
    },
    lineItems: [
      {
        productName: "Semaglutide",
        sku: "SEM-0.25-30",
        dosages: { strength: "0.25mg" },
        supply: "DAY_30",
        price: 29900,
        qty: 4,
        diseaseState: "WEIGHT_LOSS",
      },
    ],
  },

  {
    id: "ord_008",
    publicOrderId: "HF-10008",
    type: "MAIN",
    status: "COMPLETED",
    createdAt: "2024-12-01T09:15:00Z",
    userId: "usr_pat008",
    approvalDoctorId: "usr_doc005",
    subtotal: 8500,
    discount: 0,
    discountByCode: 0,
    shippingPrice: 0,
    tax: 701,
    amount: 9201,
    billingCycle: "ONE_TIME_PAYMENT",
    patient: {
      id: "usr_pat008",
      firstName: "Amanda",
      lastName: "Lee",
      email: "amanda.lee@email.com",
    },
    provider: {
      id: "usr_doc005",
      firstName: "Sarah",
      lastName: "Thompson",
    },
    lineItems: [
      {
        productName: "Sildenafil",
        sku: "SIL-50-10",
        dosages: { strength: "50mg" },
        price: 8500,
        qty: 10,
        diseaseState: "ERECTILE_DYSFUNCTION",
      },
    ],
  },
]

// Tab counts (computed from orders)
export function getTabCounts(orderList: OrderWithPatient[]) {
  return {
    all: orderList.length,
    needsReview: orderList.filter((o) => o.status === "AWAITING_REVIEW").length,
    paymentFailed: orderList.filter((o) => o.status === "PAYMENT_FAILED").length,
    labsReady: orderList.filter((o) =>
      o.children?.some(
        (c) => c.productType === "LAB_TEST" && c.labResultsReceivedAt
      )
    ).length,
    denied: orderList.filter((o) => o.status === "DENIED").length,
  }
}
